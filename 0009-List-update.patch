From 1768d0117132df941be27ed2395a458b3e36112b Mon Sep 17 00:00:00 2001
From: kathiravan <kathiravan.s@ltts.com>
Date: Thu, 9 Apr 2020 12:24:50 +0530
Subject: [PATCH 9/9] List update

---
 src/core/list.js     | 32 ++++++++++++++++++++------------
 src/mainMenu/view.js | 17 ++++++++++++++++-
 static/menu.json     |  2 +-
 3 files changed, 37 insertions(+), 14 deletions(-)

diff --git a/src/core/list.js b/src/core/list.js
index 5e99460..e0bdf07 100644
--- a/src/core/list.js
+++ b/src/core/list.js
@@ -3,20 +3,23 @@ import { Lightning } from 'wpe-lightning-sdk'
 
 export class ListItem extends Lightning.Component {
   static _template() {
-    return {
+    return {}
+  }
+
+  _init() {
+    console.log(this.argument.ListItem)
+    this.patch({
       rect: true,
-      w: Config.MAINMENU_ITEM_WIDTH,
-      h: Config.MAINMENU_ITEM_HEIGHT,
-      color: Config.MAINMENU_ITEM_COLOR,
+      w: this.argument.ListItem.width,
+      h: this.argument.ListItem.height,
+      color: this.argument.ListItem.height,
       alpha: 0.8,
       Label: {
         x: 20,
-        y: 0
+        y: 0,
+        text: { text: this.item.label, fontSize: 30 }
       }
-    }
-  }
-  _init() {
-    this.patch({ Label: { text: { text: this.item.label, fontSize: 30 } } })
+    })
   }
   _focus() {
     this.patch({ smooth: { alpha: 1, scale: 1.1 } })
@@ -28,7 +31,11 @@ export class ListItem extends Lightning.Component {
 
 export class ImageListItem extends ListItem {
   static _template() {
-    return {
+    return {}
+  }
+
+  _init() {
+    this.patch({
       rect: true,
       w: Config.MAINMENU_ITEM_WIDTH,
       h: Config.MAINMENU_ITEM_HEIGHT,
@@ -45,7 +52,7 @@ export class ImageListItem extends ListItem {
         x: 20,
         y: 0
       }
-    }
+    })
   }
 }
 
@@ -74,7 +81,8 @@ export class List extends Lightning.Component {
         ref: 'ListItem-' + index,
         type: this.ListItemsComponend,
         x: this.getPosition(startX, startY, xspace, yspace, index, width),
-        item //passing the item as an attribute
+        item, //passing the item as an attribute
+        argument: this.argument
       }
     })
   }
diff --git a/src/mainMenu/view.js b/src/mainMenu/view.js
index 737b0ec..0b60d5a 100644
--- a/src/mainMenu/view.js
+++ b/src/mainMenu/view.js
@@ -13,7 +13,22 @@ export function getBackground() {
 }
 
 export function getMainList() {
-  return { x: Config.MAINMENU_x, y: Config.MAINMENU_y, type: List, signals: { select: true } }
+  let argument = {
+    ListItem: {
+      width: Config.MAINMENU_ITEM_WIDTH,
+      height: Config.MAINMENU_ITEM_HEIGHT,
+      color: Config.MAINMENU_ITEM_COLOR,
+      Label_x: 20,
+      Label_y: 0
+    }
+  }
+  return {
+    x: Config.MAINMENU_x,
+    y: Config.MAINMENU_y,
+    type: List,
+    signals: { select: true },
+    argument: argument
+  }
 }
 
 export function getSubMenuList() {
diff --git a/static/menu.json b/static/menu.json
index 3b27ab0..101c46e 100644
--- a/static/menu.json
+++ b/static/menu.json
@@ -1,7 +1,7 @@
 [
     {
         "title": "App",
-        "submenu": []
+        "submenu": ["tst"]
     },
     {
         "title": "Movie",
-- 
2.23.0.windows.1

